<main class="form-signin w-100 m-auto" style="max-width: 330px; padding: 15px;">
  <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
    <img class="mb-4" src="https://getbootstrap.com/docs/5.0/assets/brand/bootstrap-logo.svg" alt="" width="72" height="57">
    <h1 class="h3 mb-3 fw-normal">Register</h1>

    <div class="form-floating mb-3">
      <input 
      type="text" 
      class="form-control" 
      id="floatingInput" 
      placeholder="username"
      formControlName="username"
      > 
      <label for="floatingInput">Username</label>
      @if(isFieldTextMissing('username')){
          <p>Username is required!</p>
      }
      @if(isNotMinLength('username')){
          <p>Username must be at least 5 characters long!</p>
      }
    </div>

    <div class="form-floating mb-3">
      <input 
      type="email" 
      class="form-control" 
      id="floatingInput" 
      placeholder="name@example.com"
      formControlName="email"
      >
      <label for="floatingInput">Email address</label>
      @if(isFieldTextMissing('email')){
          <p>Email is required!</p>
      }
      @if(isEmailNotValid){
          <p>Email is not valid!</p>
      }
    </div>

    <div class="form-floating mb-3">
      <input 
      type="text" 
      class="form-control" 
      id="floatingInput" 
      placeholder="123-123-123"
      formControlName="phonenumber"
      >
      <label for="floatingInput">Phone number</label>
      @if(isFieldTextMissing('phonenumber')){
        <p>Phone number is required!</p>
      }
      @if(isNotMinLength('phonenumber')){
        <p>Phone number must be at least 10 characters long!</p>
      }
    </div>

    <div class="form-floating mb-3">
      <input 
      type="text" 
      class="form-control" 
      id="floatingInput" 
      placeholder="Job Position"
      formControlName="position"
      >
      <label for="floatingInput">Enter Position</label>
      @if(isFieldTextMissing('position')){
        <p>Position is required!</p>
      }
      @if(isNotMinLength('position')){
        <p>Position must be at least 10 characters long!</p>
      }
    </div>

    <div class="form-floating mb-3">
      <input 
         type="date" 
         class="form-control" 
         id="born" 
         name="born"
         formControlName="born"
         required>                                        
      <label for="born" class="form-label">Date of Birth</label>
      @if(isFieldTextMissing('born')){
          <p>Please Enter date of Birth</p>
      }
    </div>

    <div class="form-floating mb-3">
      <input 
      type="text" 
      class="form-control" 
      id="floatingInput" 
      placeholder="City"
      formControlName="city"
      >
      <label for="floatingInput">City</label>
      @if(isFieldTextMissing('city')){
          <p>Please enter a city!</p>
      }
    </div>

    <div class="form-floating mb-3">
      <input 
      type="text" 
      class="form-control" 
      id="floatingInput" 
      placeholder="Country"
      formControlName="country"
      >
      <label for="floatingInput">Country</label>
      @if(isFieldTextMissing('country')){
          <p>Please enter a country!</p>
      }
    </div>

<div formGroupName="passGroup">
   <div class="form-floating mb-3">
      <input 
      type="password" 
      class="form-control" 
      id="floatingPassword" 
      placeholder="Password"
      formControlName="password"
      >
      <label for="floatingPassword">Password</label>
      @if(passGroup?.get('password')?.touched){
        <div>
          @if(passGroup?.get('password')?.hasError('required')){
              <p>Password is required!</p>
          }
          @if(passGroup?.get('password')?.hasError('minlength')){
            <p>Password must be at least 5 characters long</p>
          }
        </div>
      }
    </div>

    <div class="form-floating mb-3">
      <input 
      type="password" 
      class="form-control" 
      id="floatingInput"
      placeholder="RePassword"
      formControlName="rePassword"
      >
      <label for="floatingInput">Re-Password</label>
      @if(passGroup?.get('rePassword')?.touched){
          <div>
      
            @if(
              passGroup?.errors?.['matchPasswordsValidator']
                              ||
              passGroup?.get('rePassword')?.hasError('required')
              ){
                  <p>Passwords do not match!</p>
            }
          </div>
      }
    </div>
    </div>

   

    <button class="w-100 btn btn-lg btn-primary" type="submit" [disabled]="!registerForm.valid">Register</button>
  </form>
</main>
