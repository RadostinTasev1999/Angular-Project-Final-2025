<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-xl-8 col-lg-10">
        @if(isEditMode){
                <div class="container py-5">
                    <div class="row justify-content-center">
                        <div class="col-xl-8 col-lg-10">
                            <div class="card shadow-sm">
                                <div class="card-body">
                                    <h4 class="mb-4">Edit Profile</h4>
                
                                    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()">
                                        <div class="mb-3">
                                            <label for="username" class="form-label">Username</label>
                                            <input 
                                                type="text" 
                                                class="form-control" 
                                                id="username" 
                                                name="username" 
                                                formControlName="username"
                                                required>
                                            @if(profileForm.get('username')?.touched){
                                                <div>
                                                    @if(profileForm.get('username')?.hasError('required')){
                                                        <p>Username is required!</p>
                                                    }
                                                    @if(profileForm.get('username')?.hasError('minlength')){
                                                        <p>Username must be at least 6 characters long!</p>
                                                    }
                                                </div>
                                            }
                                        </div>
                
                                        <div class="mb-3">
                                            <label for="position" class="form-label">Position</label>
                                            <input 
                                                type="text" 
                                                class="form-control" 
                                                id="position" 
                                                name="position"
                                                formControlName="position"          
                                                required>
                                                @if(profileForm.get('position')?.touched){
                                                    <div>
                                                        @if(profileForm.get('position')?.hasError('required')){
                                                            <p>Position is required!</p>
                                                        }
                                                    </div>
                                                }
                                        </div>
                
                                        <div class="mb-3">
                                            <label for="born" class="form-label">Date of Birth</label>
                                            <input 
                                                type="date" 
                                                class="form-control" 
                                                id="born" 
                                                name="born"
                                                formControlName="born"
                                                required
                                                >
                                                @if(profileForm.get('born')?.touched){
                                                    <div>
                                                        @if(profileForm.get('born')?.hasError('required')){
                                                            <p>Please enter date of birth</p>
                                                        }
                                                    </div>
                                                }
                                        </div>
                
                                        <div class="mb-3">
                                            <label for="city" class="form-label">City</label>
                                            <input 
                                                type="text" 
                                                class="form-control" 
                                                id="city" 
                                                name="city"
                                                formControlName="city"
                                                required
                                                >
                                                @if(profileForm.get('city')?.touched){
                                                    <div>
                                                        @if(profileForm.get('city')?.hasError('required')){
                                                            <p>Please enter city</p>
                                                        }
                                                    </div>
                                                }
                                        </div>
                
                                        <div class="mb-3">
                                            <label for="country" class="form-label">Country</label>
                                            <input 
                                                type="text" 
                                                class="form-control" 
                                                id="country" 
                                                name="country"
                                                formControlName="country"
                                                required
                                                >
                                                @if(profileForm.get('country')?.touched){
                                                    <div>
                                                        @if(profileForm.get('country')?.hasError('required')){
                                                            <p>Please enter a Country</p>
                                                        }
                                                    </div>
                                                }
                                        </div>
                
                                        <div class="mb-3">
                                            <label for="email" class="form-label">Email</label>
                                            <input 
                                                type="email" 
                                                class="form-control" 
                                                id="email" 
                                                name="email"
                                                formControlName="email" 
                                                required>
                                                @if(profileForm.get('email')?.touched){
                                                    <div>
                                                        @if(profileForm.get('email')?.hasError('required')){
                                                            <p>Please enter an email</p>
                                                        }
                                                        @if(profileForm.get('email')?.hasError('emailValidator')){
                                                            <p>Please enter a valid email address</p>
                                                        }
                                                    </div>
                                                }
                                        </div>
                
                                        <div class="mb-3">
                                            <label for="phone" class="form-label">Phone Number</label>
                                            <input 
                                                type="tel" 
                                                class="form-control" 
                                                id="phone" 
                                                name="phonenumber"
                                                formControlName="phonenumber"
                                                required
                                                >
                                                @if(profileForm.get('phonenumber')?.touched){
                                                    <div>
                                                        @if(profileForm.get('phonenumber')?.hasError('required')){
                                                            <p>Please enter a phone number!</p>
                                                        }
                                                        @if(profileForm.get('phonenumber')?.hasError('minlength')){
                                                            <p>Please enter at least 11 characters</p>
                                                        }
                                                    </div>
                                                }
                                        </div>
                
                                        <div class="d-flex justify-content-end gap-2">
                                            <button type="submit" class="btn btn-primary" [disabled]="!profileForm.valid">
                                                <i class="bi bi-save me-1"></i>Save Changes
                                            </button>
                                            <a (click)="onCancel()" class="btn btn-secondary">
                                                <i class="bi bi-x-circle me-1"></i>Cancel
                                            </a>
                                        </div>

                                        
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            } @else{
                <div class="card shadow-sm">
                    <div class="card-body">
                        <div class="d-flex flex-column flex-md-row align-items-center justify-content-between mb-4">
                            <h4 class="mb-3 mb-md-0">User Profile</h4>
                            <a (click)="onEdit()" class="btn btn-outline-primary btn-sm">
                                <i class="bi bi-pencil-square me-1"></i>Edit Profile
                            </a>
                        </div>
                        <div class="row g-4 align-items-center">
                            <!-- Profile Picture -->
                            <div class="col-md-4 text-center">
                               <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M320 312C386.3 312 440 258.3 440 192C440 125.7 386.3 72 320 72C253.7 72 200 125.7 200 192C200 258.3 253.7 312 320 312zM290.3 368C191.8 368 112 447.8 112 546.3C112 562.7 125.3 576 141.7 576L498.3 576C514.7 576 528 562.7 528 546.3C528 447.8 448.2 368 349.7 368L290.3 368z"/></svg>
                                <h5 class="mt-3 mb-0">{{userDetails?.username}}</h5>
                                <small class="text-muted">{{userDetails?.position}}</small>
                            </div>
                
                            <!-- User Info -->
                            <div class="col-md-8">
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item d-flex align-items-center">
                                        <i class="bi bi-calendar3 me-3 fs-5 text-secondary"></i>
                                        <span>{{userDetails?.born}}</span>
                                    </li>
                                    <li class="list-group-item d-flex align-items-center">
                                        <i class="bi bi-geo-alt me-3 fs-5 text-secondary"></i>
                                        <span>{{userDetails?.city}}, {{userDetails?.country}}</span>
                                    </li>
                                    <li class="list-group-item d-flex align-items-center">
                                        <i class="bi bi-envelope me-3 fs-5 text-secondary"></i>
                                        <a class="text-decoration-none">{{userDetails?.email}}</a>
                                    </li>
                                    <li class="list-group-item d-flex align-items-center">
                                        <i class="bi bi-telephone me-3 fs-5 text-secondary"></i>
                                        <span>{{userDetails?.phonenumber}}</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!-- /row -->
                    </div>
                </div>
            }
      
    </div>
  </div>
</div>
